extends layout

block content
  div
  .inputoutput
    img#imageSrc(alt='No Image')
    .caption
      | imageSrc 
      input#fileInput(type='file' name='file')
  .inputoutput
    canvas#canvasOutput
    .caption canvasOutput
  script(type='text/javascript').
    let imgElement = document.getElementById('imageSrc');
    let inputElement = document.getElementById('fileInput');
    inputElement.addEventListener('change', (e) => {
    imgElement.src = URL.createObjectURL(e.target.files[0]);
    }, false);
    imgElement.onload = function() {
    let mat = cv.imread(imgElement);
    cv.imshow('canvasOutput', mat);
    mat.delete();
    };
    function onOpenCvReady() {
    document.getElementById('status').innerHTML = 'OpenCV.js is ready.';
    }
  script(async='' src='js/opencv.js' onload='onOpenCvReady();' type='text/javascript')
  